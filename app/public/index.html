<!DOCTYPE html>
<html lang="en" class="notranslate" translate="no">
  <head>
    <meta charset="utf-8" />
    <meta name="google" content="notranslate" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#082f49" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Quran TFT" />
    <meta
      name="description"
      content="Quran The Final Testament (Interactive Book)"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="preload" as="image" href="%PUBLIC_URL%/logo512.png" fetchpriority="high" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" id="app-manifest-link" />
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
      }

      body {
        background: linear-gradient(180deg, #06b6d4 0%, #0ea5e9 100%);
      }

      #root {
        width: 100%;
        height: 100%;
        opacity: 0;
        transition: opacity 320ms ease-out;
      }

      #root.app-visible {
        opacity: 1;
      }

      .app-static-splash {
        position: fixed;
        inset: 0;
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #06b6d4 0%, #0ea5e9 100%);
        user-select: none;
        opacity: 1;
        transition: opacity 360ms ease-out;
      }

      .app-static-splash.is-hiding {
        opacity: 0;
        pointer-events: none;
      }

      .app-static-splash img {
        width: min(45vw, 220px);
        height: min(45vw, 220px);
        object-fit: contain;
        filter: drop-shadow(0 10px 28px rgba(8, 47, 73, 0.3));
      }

      @media (prefers-reduced-motion: reduce) {
        .app-static-splash {
          transition: none;
        }
      }
    </style>

    <script>
      (function () {
        var manifestLanguages = [
          "am", "ar", "az", "bg", "bn", "ca", "cs", "da", "de", "el",
          "es", "et", "fa", "fi", "fil", "fr", "gu", "he", "hi", "hr",
          "hu", "id", "it", "ja", "kk", "ko", "lt", "lv", "ml", "ms",
          "nl", "no", "pa", "pl", "pt", "ro", "ru", "sk", "sl", "sr",
          "sv", "sw", "ta", "te", "th", "tr", "uk", "ur", "vi", "zh"
        ];
        var manifestLanguageAliases = {
          tl: "fil"
        };
        var manifestByLanguage = {};
        manifestLanguages.forEach(function (code) {
          manifestByLanguage[code] = "manifest." + code + ".json";
        });

        var preferredLanguage = "en";
        try {
          var storedLanguage = localStorage.getItem("lang");
          var deviceLanguage = navigator.language || navigator.userLanguage || "en";
          preferredLanguage = (storedLanguage || deviceLanguage || "en").toLowerCase().split("-")[0];
          preferredLanguage = manifestLanguageAliases[preferredLanguage] || preferredLanguage;
        } catch (_error) {
          preferredLanguage = "en";
        }

        var manifestFile = manifestByLanguage[preferredLanguage] || "manifest.json";
        var manifestLink = document.getElementById("app-manifest-link");
        if (manifestLink) {
          manifestLink.href = "%PUBLIC_URL%/" + manifestFile;
        }
      })();
    </script>

    <title>QURAN TFT</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="app-static-splash" class="app-static-splash" aria-hidden="true">
      <img src="%PUBLIC_URL%/logo512.png" alt="Quran TFT" />
    </div>
    <script>
      (function () {
        var MIN_SPLASH_VISIBLE_MS = 480;
        var startTime = Date.now();
        var root = document.getElementById('root');
        var splash = document.getElementById('app-static-splash');
        if (!splash) {
          return;
        }

        var hidden = false;
        var revealRoot = function () {
          if (root) {
            root.classList.add('app-visible');
          }
        };

        var hideSplash = function () {
          if (hidden) {
            return;
          }
          hidden = true;
          revealRoot();
          splash.classList.add('is-hiding');
          window.setTimeout(function () {
            if (splash && splash.parentNode) {
              splash.parentNode.removeChild(splash);
            }
          }, 420);
        };

        var scheduleHideSplash = function () {
          var elapsed = Date.now() - startTime;
          var waitTime = Math.max(0, MIN_SPLASH_VISIBLE_MS - elapsed);
          window.setTimeout(hideSplash, waitTime);
        };

        window.addEventListener('app:react-ready', scheduleHideSplash, { once: true });
        window.setTimeout(scheduleHideSplash, 8000);
      })();
    </script>
  </body>
</html>
